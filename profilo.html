<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Registrazione - Yume Travel</title>
  <link rel="icon" type="image/png" href="favicon.ico" />

  <!-- Font Yume -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Raleway:wght@300;500;700&family=Quicksand:wght@400;600&display=swap" rel="stylesheet">

  <!-- Stili -->
  <link rel="stylesheet" href="assets/styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body>

<!-- NAVBAR -->
<nav class="navbar">
  <div class="navbar-left">
    <img src="assets/logo-yume.jpg" alt="Logo YUME" class="logo-navbar">
  </div>
  <button class="hamburger" onclick="toggleSidebar()">☰</button>
</nav>

<!-- SIDEBAR -->
<div id="sidebar" class="sidebar hidden">
  <div class="sidebar-logo">
    <img src="assets/logo_bar.png" alt="Logo Yume" class="logo-sidebar">
  </div>
  <a href="index.html">Home</a>
  <a href="pacchetti.html">Pacchetti flessibili</a>
  <a href="faq.html">FAQ</a>
  <a href="info-utili.html">Informazioni utili</a>
  <a href="contatti.html">Contatti</a>
  <a href="yuta.html">YUTA</a>
  <a href="profilo.html">Registrazione</a>
  <a href="log-in.html">Area Personale</a>
</div>

<!-- HERO -->
<header class="hero-banner">
  <picture>
    <source srcset="assets/profilo-mob.jpg" media="(max-width: 768px)">
    <img src="assets/profilo-desk.jpg" alt="Registrazione Yume" class="hero-banner-img">
  </picture>
<div class="scroll-indicator" onclick="scrollToMain()">
  <span class="arrow-down"></span>
</div>

</header>

<section class="hero-section">
  <div class="hero-intro">
    <h1 class="hero-title">Crea il tuo profilo Yume</h1>
    <p class="hero-subtitle">Registrati per accedere ai servizi personalizzati</p>
  </div>
</section>

<!-- FORM REGISTRAZIONE -->
<section class="main-wrapper">
  <form id="formRegistrazione" class="info-form">
<div class="form-group">
  <label for="nome">Nome*</label>
  <input type="text" id="nome" name="nome" required>
</div>

<div class="form-group">
  <label for="cognome">Cognome*</label>
  <input type="text" id="cognome" name="cognome" required>
</div>

<div class="form-group">
  <label for="email">Email*</label>
  <input type="email" id="email" name="email" required>
</div>

<div class="form-group">
  <label for="confermaEmail">Conferma Email*</label>
  <input type="email" id="confermaEmail" name="confermaEmail" required oninput="checkEmailMatch()">
  <div id="emailMatchMessage" class="email-message"></div>
</div>

<div class="form-group">
  <label for="password">Password*</label>
  <input type="password" id="password" name="password" required>
  <button type="button" class="toggle-password-text" onclick="toggleVisibility('password', this)">Mostra password</button>
</div>

<div class="form-group">
  <label for="confermaPassword">Conferma Password*</label>
  <input type="password" id="confermaPassword" name="confermaPassword" required oninput="checkPasswordMatch()">
  <button type="button" class="toggle-password-text" onclick="toggleVisibility('confermaPassword', this)">Mostra password</button>
  <div id="passwordMatchMessage" class="password-message"></div>
</div>


    <div class="form-group checkbox-group">
      <label><input type="checkbox" id="privacy" required> Accetto l'informativa privacy*</label>
      <label><input type="checkbox" id="termini" required> Accetto termini e condizioni*</label>
      <label><input type="checkbox" id="newsletter"> Iscrivimi alla newsletter</label>
    </div>

   <button type="submit" class="modern-btn form-submit">Registrati</button>
   <div id="esitoRegistrazione" class="form-feedback"></div>


  </form>
</section>

<!-- FOOTER -->
<footer class="main-footer">
  <div class="footer-social">
    <p><strong>Seguici su:</strong></p>
    <a href="https://www.instagram.com/yumeviaggi" target="_blank" aria-label="Instagram" class="fa fa-instagram"></a>
    <a href="https://yuta-travel.com" target="_blank" aria-label="Sito YUTA" class="fa fa-globe"></a>
  </div>
  <p class="footer-copy">© 2025 Yume Travel Tech – Tutti i diritti riservati.</p>
</footer>

<!-- CHAT YUKI -->
<div id="yuki-chat-avatar" onclick="toggleYukiChat()" title="Hai bisogno di aiuto?">
  <img src="assets/yuki-avatar.png" alt="Yuki" />
</div>

<div id="yuki-chatbox" class="hidden">
  <div class="chatbox-header">
    <span>Yuki, assistente AI</span>
    <button onclick="toggleYukiChat()">✕</button>
  </div>
  <div class="chatbox-messages" id="chatbox-messages"></div>
  <div class="chatbox-input">
    <input type="text" id="userMessage" placeholder="Scrivi qui..." />
    <button onclick="sendMessage()">Invia</button>
  </div>
</div>

<script>
  window.addEventListener("DOMContentLoaded", function () {
    const el = document.querySelector('#yuki-chat-avatar');
    if (!el) return;

    el.style.position = 'fixed';
    el.style.bottom = '25px';
    el.style.right = '25px';
    el.style.width = '90px';
    el.style.height = '90px';
    el.style.zIndex = '9999';
    el.style.borderRadius = '50%';
    el.style.overflow = 'hidden';
    el.style.boxShadow = '0 4px 10px rgba(0,0,0,0.2)';
    el.style.backgroundColor = '#fff';

    const img = el.querySelector('img');
    if (img) {
      img.style.width = '100%';
      img.style.height = '100%';
      img.style.objectFit = 'cover';
      img.style.borderRadius = '50%';
    }
  });
</script>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const profilo = JSON.parse(sessionStorage.getItem("profiloUtente"));
    if (profilo) {
      // 🔁 Reindirizza "Area Personale" direttamente ad area-clienti
      document.querySelectorAll("a[href='log-in.html']").forEach(link => {
        link.href = "area-clienti.html";
      });

      // 👤 Mostra avatar + logout nella sidebar
      const sidebar = document.querySelector(".sidebar");
      if (sidebar && !document.getElementById("userBox")) {
        const userBox = document.createElement("div");
        userBox.id = "userBox";
        userBox.style.marginTop = "30px";
        userBox.style.padding = "10px";
        userBox.style.textAlign = "center";
        userBox.style.borderTop = "1px solid #ccc";

        const avatar = document.createElement("img");
        avatar.src = localStorage.getItem("userAvatar") || "https://api.dicebear.com/7.x/avataaars/svg?seed=yume";
        avatar.alt = "Avatar";
        avatar.style.width = "60px";
        avatar.style.height = "60px";
        avatar.style.borderRadius = "50%";
        avatar.style.objectFit = "cover";
        avatar.style.border = "2px solid #C9A86A";
        avatar.style.marginBottom = "8px";

        const logoutBtn = document.createElement("button");
        logoutBtn.textContent = "Logout";
        logoutBtn.style.marginTop = "6px";
        logoutBtn.style.background = "#8B2C2B";
        logoutBtn.style.color = "#fff";
        logoutBtn.style.border = "none";
        logoutBtn.style.padding = "6px 12px";
        logoutBtn.style.borderRadius = "20px";
        logoutBtn.style.cursor = "pointer";

        logoutBtn.onclick = () => {
          sessionStorage.removeItem("profiloUtente");
          localStorage.removeItem("userAvatar");
          window.location.href = "index.html";
        };

        userBox.appendChild(avatar);
        userBox.appendChild(logoutBtn);
        sidebar.appendChild(userBox);
      }
    }
  });
</script>

<!-- SCRIPT -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="assets/script.js"></script>

</body>
</html>

