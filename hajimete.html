<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Hajimete – Pacchetto Giappone</title>
  <link rel="icon" type="image/png" href="favicon.ico" />
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Raleway:wght@300;500;700&family=Quicksand:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="assets/styles.css">
  <link rel="stylesheet" href="assets/styles_pacchetti.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

</head>

<body>
  <!-- NAVBAR -->
  <nav class="navbar">
    <div class="navbar-left">
      <img src="assets/logo-yume.jpg" alt="Logo YUME" class="logo-navbar">
    </div>
    <button class="hamburger" onclick="toggleSidebar()">☰</button>
  </nav>

  <!-- SIDEBAR -->
  <div id="sidebar" class="sidebar hidden">
    <div class="sidebar-logo">
      <img src="assets/logo_bar.png" alt="Logo Yume" class="logo-sidebar">
    </div>
    <a href="index.html">Home</a>
    <a href="pacchetti.html">Pacchetti flessibili</a>
    <a href="consulenze.html">Consulenze</a>
    <a href="faq.html">FAQ</a>
    <a href="info-utili.html">Informazioni utili</a>
    <a href="contatti.html">Contatti</a>
    <a href="profilo.html">Registrazione</a>
    <a href="log-in.html">Area Personale</a>
  </div>

  <!-- COPERTINA GRANDE -->
<header class="hero-banner">
  <picture>
    <source srcset="hajimete/hajimete_mob.jpg" media="(max-width: 768px)">
    <img src="hajimete/hajimete_desk.jpg" alt="Pacchetti Yume Travel" class="hero-banner-img">
  </picture>

  <div class="hero-overlay">
    <h1 class="hero-title">Hajimete</h1>
    <p class="hero-subtitle">Un battito, un Paese, una scoperta</p>
  </div>

  <div class="scroll-indicator" onclick="scrollToMain()">
    <span class="arrow-down"></span>
  </div>
</header>


  <!-- CONTENUTO PRINCIPALE -->
<!-- Introduzione -->
<div class="main-wrapper">
<section class="hajimete-intro slide-in">
  <h1>Hajimete – Debutto</h1>
  <p class="lead">Un primo sguardo sul Giappone, tra meraviglia e scoperta.</p>
  <p class="intro-desc">Pensato per chi desidera esplorare le meraviglie essenziali del Giappone, con equilibrio tra tradizione e modernità. Ideale per chi si avvicina per la prima volta al Paese del Sol Levante.</p>
  <ul class="icon-list">
    <li><i class="fa fa-calendar"></i> Durata: da 8 a 18 notti</li>
    <li><i class="fa fa-map-marker"></i> Città visitabili: Tokyo, Kyoto, Osaka, Hakone, Nara, Hiroshima, Nikko, Kamakura, Yokohama, Kawaguchiko</li>
    <li><i class="fa fa-user"></i> Ideale per: viaggiatori al primo viaggio in Giappone</li>
  </ul>
  <p class="price-tag">A partire da 2.490€</p>
</section>

<section class="mappa-overview slide-in">
  <h2 class="section-title">Panoramica del viaggio</h2>
  <div id="map-overview" style="height: 450px; border-radius: 12px; overflow: hidden;"></div>
</section>

<div class="mappa-legend">
  <p><i class="fa fa-map" aria-hidden="true"></i> <strong>Come usare la mappa</strong></p>
  <ul>
    <li><i class="fa fa-location-arrow"></i> Clicca sui torii <img src="hajimete/marker-yume.png" alt="marker" class="mini-marker"> per scoprire le tappe del viaggio</li>
    <li><i class="fa fa-arrows-alt"></i> Trascina per esplorare liberamente la mappa</li>
    <li><i class="fa fa-search-plus"></i> Usa lo zoom per avvicinarti alle zone locali</li>
  </ul>
</div>


<section class="focus-tags slide-in">
  <div class="focus-item">
    <div class="focus-icon"><i class="fa fa-building"></i></div>
    <p class="focus-label">City Life</p>
    <div class="focus-bar">
      <div class="bar-fill" style="width: 90%; background-color: #C9A86A;"></div>
    </div>
    <div class="score-text">90%</div>
  </div>

  <div class="focus-item">
    <div class="focus-icon"><i class="fa fa-shopping-bag"></i></div>
    <p class="focus-label">Shopping</p>
    <div class="focus-bar">
      <div class="bar-fill" style="width: 80%; background-color: #C9A86A;"></div>
    </div>
    <div class="score-text">80%</div>
  </div>

  <div class="focus-item">
    <div class="focus-icon"><i class="fa fa-leaf"></i></div>
    <p class="focus-label">Spiritualità</p>
    <div class="focus-bar">
      <div class="bar-fill" style="width: 80%; background-color: #C9A86A;"></div>
    </div>
    <div class="score-text">80%</div>
  </div>

  <div class="focus-item">
    <div class="focus-icon"><i class="fa fa-cutlery"></i></div>
    <p class="focus-label">Gastronomia</p>
    <div class="focus-bar">
      <div class="bar-fill" style="width: 70%; background-color: #C9A86A;"></div>
    </div>
    <div class="score-text">70%</div>
  </div>

  <div class="focus-item">
    <div class="focus-icon"><i class="fa fa-leaf"></i></div>
    <p class="focus-label">Natura</p>
    <div class="focus-bar">
      <div class="bar-fill" style="width: 70%; background-color: #C9A86A;"></div>
    </div>
    <div class="score-text">60%</div>
  </div>
</section>

<!-- ITINERARIO -->
<section class="itinerario-esteso slide-in">
  <h2>Itinerario tipo – 12 notti</h2>

  <div class="giorno-box">
    <button class="giorno-toggle">Giorno 1 – Partenza dall’Italia</button>
    <div class="giorno-content">
      <p><strong>Mattina:</strong> Partenza con volo notturno per il Giappone.</p>
    </div>
  </div>

  <div class="giorno-box">
    <button class="giorno-toggle">Giorno 2 – Arrivo a Tokyo</button>
    <div class="giorno-content">
      <p><strong>Pomeriggio:</strong> Arrivo all’aeroporto di Tokyo. Trasferimento in hotel ad Asakusa.</p>
      <p><strong>Sera:</strong> Ambientamento e prima passeggiata nei dintorni.</p>
      <p><i class="fa fa-star"></i> Quartiere di Asakusa</p>
    </div>
  </div>

  <div class="giorno-box">
    <button class="giorno-toggle">Giorno 3 – Tokyo: Asakusa, Kappabashi, Skytree, Shibuya</button>
    <div class="giorno-content">
      <p><strong>Mattina:</strong> Visita al <strong>Senso-ji</strong> e alla via degli utensili Kappabashi.</p>
      <p><strong>Pomeriggio:</strong> Salita alla <strong>Tokyo Skytree</strong> e tempo libero.</p>
      <p><strong>Sera:</strong> Passeggiata a Shibuya e dintorni.</p>
      <p><i class="fa fa-star"></i> Senso-ji, Tokyo Skytree, Shibuya Crossing</p>
    </div>
  </div>

  <div class="giorno-box">
    <button class="giorno-toggle">Giorno 4 – Tokyo: Meiji, Takeshita, Ueno, Shinjuku</button>
    <div class="giorno-content">
      <p><strong>Mattina:</strong> Visita al <strong>Meiji Jingu</strong> e shopping in Takeshita-dori.</p>
      <p><strong>Pomeriggio:</strong> Passeggiata nel <strong>parco di Ueno</strong> e mercato di Ameyoko.</p>
      <p><strong>Sera:</strong> Luci e grattacieli di Shinjuku.</p>
      <p><i class="fa fa-star"></i> Meiji Jingu, Takeshita-dori, Ueno Park, Shinjuku</p>
    </div>
  </div>

  <div class="giorno-box">
    <button class="giorno-toggle">Giorno 5 – Kamakura e Yokohama</button>
    <div class="giorno-content">
      <p><strong>Mattina:</strong> Escursione a Kamakura: <strong>Grande Buddha (Daibutsu)</strong>, Tsurugaoka Hachimangu, centro storico.</p>
      <p><strong>Pomeriggio:</strong> Visita a Yokohama: <strong>Ramen Museum</strong>, ruota panoramica, <strong>Chinatown</strong>.</p>
      <p><strong>Sera:</strong> Rientro a Tokyo.</p>
      <p><i class="fa fa-star"></i> Daibutsu, Tsurugaoka Hachimangu, Yokohama Chinatown</p>
    </div>
  </div>

  <div class="giorno-box">
    <button class="giorno-toggle">Giorno 6 – Kawaguchiko</button>
    <div class="giorno-content">
      <p><strong>Mattina:</strong> Partenza per Kawaguchiko, salita al <strong>Mt. Fuji Ropeway</strong>.</p>
      <p><strong>Pomeriggio:</strong> Visita al <strong>villaggio Iyashi no Sato</strong>.</p>
      <p><strong>Sera:</strong> Cena in ristorante tipico e passeggiata sul lago.</p>
      <p><i class="fa fa-star"></i> Mt. Fuji Ropeway, Iyashi no Sato</p>
    </div>
  </div>

  <div class="giorno-box">
    <button class="giorno-toggle">Giorno 7 – Chureito, Oshino Hakkai, Sake</button>
    <div class="giorno-content">
      <p><strong>Mattina:</strong> Escursione alla <strong>Chureito Pagoda</strong>, visita a <strong>Oshino Hakkai</strong>.</p>
      <p><strong>Pomeriggio:</strong> Degustazione guidata alla <strong>Ide Sake Brewery</strong>, possibilità di onsen.</p>
      <p><strong>Sera:</strong> Izakaya o cena locale.</p>
      <p><i class="fa fa-star"></i> Chureito Pagoda, Oshino Hakkai, Ide Sake Brewery</p>
    </div>
  </div>

  <div class="giorno-box">
    <button class="giorno-toggle">Giorno 8 – Da Kawaguchiko a Osaka</button>
    <div class="giorno-content">
      <p><strong>Mattina:</strong> Trasferimento da Kawaguchiko, sosta a Shibuya.</p>
      <p><strong>Pomeriggio:</strong> Arrivo a Osaka, sistemazione in zona Namba.</p>
      <p><strong>Sera:</strong> Visita a <strong>Shinsekai</strong> e <strong>Torre Tsutenkaku</strong>.</p>
      <p><i class="fa fa-star"></i> Shinsekai, Torre Tsutenkaku</p>
    </div>
  </div>

  <div class="giorno-box">
    <button class="giorno-toggle">Giorno 9 – Kyoto classica</button>
    <div class="giorno-content">
      <p><strong>Mattina:</strong> Visita al <strong>Castello Nijo</strong> e <strong>Palazzo Imperiale</strong>.</p>
      <p><strong>Pomeriggio:</strong> <strong>Kiyomizu-dera</strong> e le vie storiche Sannenzaka e Ninenzaka.</p>
      <p><strong>Sera:</strong> Rientro a Osaka, cena lungo il <strong>Dotonbori</strong>.</p>
      <p><i class="fa fa-star"></i> Nijo-jo, Kiyomizu-dera, Dotonbori</p>
    </div>
  </div>

  <div class="giorno-box">
    <button class="giorno-toggle">Giorno 10 – Kyoto ovest e Umeda</button>
    <div class="giorno-content">
      <p><strong>Mattina:</strong> <strong>Kinkaku-ji</strong> e <strong>Ryoan-ji</strong>.</p>
      <p><strong>Pomeriggio:</strong> Arashiyama: <strong>Tenryu-ji</strong> e <strong>foresta di bambù</strong>.</p>
      <p><strong>Sera:</strong> Rientro a Osaka, cena a Umeda.</p>
      <p><i class="fa fa-star"></i> Kinkaku-ji, Tenryu-ji, Arashiyama</p>
    </div>
  </div>

  <div class="giorno-box">
    <button class="giorno-toggle">Giorno 11 – Uji e Nara</button>
    <div class="giorno-content">
      <p><strong>Mattina:</strong> Visita al tempio <strong>Byodo-in</strong> di Uji.</p>
      <p><strong>Pomeriggio:</strong> Escursione a Nara: parco dei cervi, templi storici.</p>
      <p><strong>Sera:</strong> Rientro a Osaka.</p>
      <p><i class="fa fa-star"></i> Byodo-in, Parco di Nara</p>
    </div>
  </div>

  <div class="giorno-box">
    <button class="giorno-toggle">Giorno 12 – Rientro</button>
    <div class="giorno-content">
      <p>Trasferimento all’aeroporto del Kansai e partenza per l’Italia.</p>
    </div>
  </div>

  <div class="giorno-box">
    <button class="giorno-toggle">Giorno 13 – Arrivo in Italia</button>
    <div class="giorno-content">
      <p>Arrivo previsto in giornata. Fine dei servizi.</p>
    </div>
  </div>
</section>

<section class="mappa-itinerario slide-in">
  <h2 class="section-title">Itinerario tipo – su mappa</h2>
  <div id="map-itinerario" style="height: 500px; border-radius: 12px; overflow: hidden;"></div>
</section>

<div class="mappa-legend">
  <p><i class="fa fa-map" aria-hidden="true"></i> <strong>Come usare la mappa</strong></p>
  <ul>
    <li><i class="fa fa-location-arrow"></i> Clicca sui torii <img src="hajimete/marker-yume.png" alt="marker" class="mini-marker"> per scoprire le tappe del viaggio</li>
    <li><i class="fa fa-arrows-alt"></i> Trascina per esplorare liberamente la mappa</li>
    <li><i class="fa fa-search-plus"></i> Usa lo zoom per avvicinarti alle zone locali</li>
  </ul>
</div>


<section class="foto-slider-section slide-in">
  <h2 class="foto-slider-title">I luoghi del viaggio Hajimete</h2>
  <div class="foto-slider-wrapper">
    <button class="slider-arrow left" onclick="scrollFotoSlider(-1)"></button>

<div class="foto-slider-container" id="fotoSlider">
  <div class="foto-box"><img src="hajimete/1.jpg" alt="Foto 1" loading="lazy" onclick="apriFotoFullscreen(0)"></div>
  <div class="foto-box"><img src="hajimete/2.jpg" alt="Foto 2" loading="lazy" onclick="apriFotoFullscreen(1)"></div>
  <div class="foto-box"><img src="hajimete/3.jpg" alt="Foto 3" loading="lazy" onclick="apriFotoFullscreen(2)"></div>
  <div class="foto-box"><img src="hajimete/4.jpg" alt="Foto 4" loading="lazy" onclick="apriFotoFullscreen(3)"></div>
  <div class="foto-box"><img src="hajimete/5.jpg" alt="Foto 5" loading="lazy" onclick="apriFotoFullscreen(4)"></div>
  <div class="foto-box"><img src="hajimete/6.jpg" alt="Foto 6" loading="lazy" onclick="apriFotoFullscreen(5)"></div>
  <div class="foto-box"><img src="hajimete/7.jpg" alt="Foto 7" loading="lazy" onclick="apriFotoFullscreen(6)"></div>
  <div class="foto-box"><img src="hajimete/8.jpg" alt="Foto 8" loading="lazy" onclick="apriFotoFullscreen(7)"></div>
  <div class="foto-box"><img src="hajimete/9.jpg" alt="Foto 9" loading="lazy" onclick="apriFotoFullscreen(8)"></div>
</div>

    <button class="slider-arrow right" onclick="scrollFotoSlider(1)"></button>
  </div>
</section>


<!-- ACCORDION -->
<section class="accordion-section slide-in">
<div class="info-boxes-container">
  <div class="info-box">
    <button class="info-toggle"><span class="info-number">1.</span> Cosa include il pacchetto <i class="fa fa-chevron-down toggle-icon"></i></button>
    <div class="info-content">
      <ul>
        <li>Alloggi centrali in categoria standard o superiore</li>
        <li>Voli andata/ritorno da principali aeroporti italiani</li>
        <li>Assicurazione medica, bagaglio e annullamento</li>
        <li>Guide digitali generali e tematiche in PDF</li>
        <li>Accesso gratuito al nostro travel assistant di viaggio</li>
      </ul>
    </div>
  </div>

  <div class="info-box">
    <button class="info-toggle"><span class="info-number">2.</span> Cosa non è incluso <i class="fa fa-chevron-down toggle-icon"></i></button>
    <div class="info-content">
      <ul>
        <li>Pasti e bevande</li>
        <li>Attività, ingressi o escursioni non specificati</li>
        <li>Servizi non espressamente indicati come inclusi</li>
      </ul>
    </div>
  </div>

  <div class="info-box">
    <button class="info-toggle"><span class="info-number">3.</span> Extra su richiesta <i class="fa fa-chevron-down toggle-icon"></i></button>
    <div class="info-content">
      <ul>
        <li>Esperienza in ryokan tradizionale con cena kaiseki</li>
        <li>Onsen privati o naturali</li>
        <li>Guide locali per Tokyo o Kyoto</li>
        <li>Biglietti Ghibli Park o Shinkansen extra</li>
      </ul>
    </div>
  </div>

  <div class="info-box">
    <button class="info-toggle"><span class="info-number">4.</span> Note importanti <i class="fa fa-chevron-down toggle-icon"></i></button>
    <div class="info-content">
      <p>I prezzi indicati si riferiscono al soggiorno minimo in bassa stagione.</p>
      <p>Consigliamo di prenotare almeno 3–4 mesi prima per assicurarsi disponibilità, offerte e personalizzazione.</p>
    </div>
  </div>
</div>
</section>

<section class="call-to-action slide-in">
<a href="pacchetti.html?pacchetto=hajimete#formPacchetto" class="modern-btn">Richiedi questo pacchetto</a>
</section>

<section class="viator-widget-section slide-in">
  <h2 class="section-title">Respira il viaggio - Hajimete</h2>
  <div data-vi-partner-id="U00663494" data-vi-widget-ref="W-223166c1-4243-4098-abec-2e7367e4d07a"></div>
</section>

<section class="call-to-action slide-in">
<a href="pacchetti.html?pacchetto=hajimete#formPacchetto" class="modern-btn">Richiedi questo pacchetto</a>
</section>

</div>

  <!-- FOOTER -->
  <footer class="main-footer">
    <div class="footer-social">
      <p><strong>Seguici su:</strong></p>
      <a href="https://www.instagram.com/yumeviaggi" target="_blank" aria-label="Instagram" class="fa fa-instagram"></a>
      <a href="https://yuta-travel.com" target="_blank" aria-label="Sito YUTA" class="fa fa-globe"></a>
    </div>
    <p class="footer-copy">© 2025 Yume Travel Tech – Tutti i diritti riservati.</p>
  </footer>

  <!-- Avatar Chatbot Yuki -->
  <div id="yuki-chat-avatar" onclick="toggleYukiChat()" title="Hai bisogno di aiuto?">
    <img src="assets/yuki-avatar.png" alt="Yuki" />
  </div>

  <!-- Finestra Chat -->
  <div id="yuki-chatbox" class="hidden">
    <div class="chatbox-header">
      <span>Yuki, assistente AI</span>
      <button onclick="toggleYukiChat()">✕</button>
    </div>
    <div class="chatbox-messages" id="chatbox-messages"></div>
    <div class="chatbox-input">
      <input type="text" id="userMessage" placeholder="Scrivi qui..." />
      <button onclick="sendMessage()">Invia</button>
    </div>
  </div>

<script async src="https://www.viator.com/orion/partner/widget.js"></script>

<script>
  window.addEventListener("DOMContentLoaded", function () {
    const el = document.querySelector('#yuki-chat-avatar');
    if (!el) return;

    el.style.position = 'fixed';
    el.style.bottom = '25px';
    el.style.right = '25px';
    el.style.width = '90px';
    el.style.height = '90px';
    el.style.zIndex = '9999';
    el.style.borderRadius = '50%';
    el.style.overflow = 'hidden';
    el.style.boxShadow = '0 4px 10px rgba(0,0,0,0.2)';
    el.style.backgroundColor = '#fff';

    const img = el.querySelector('img');
    if (img) {
      img.style.width = '100%';
      img.style.height = '100%';
      img.style.objectFit = 'cover';
      img.style.borderRadius = '50%';
    }
  });
</script>

  <script src="assets/script.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const profilo = JSON.parse(sessionStorage.getItem("profiloUtente"));
      if (profilo) {
        document.querySelectorAll("a[href='log-in.html']").forEach(link => {
          link.href = "area-clienti.html";
        });
        const sidebar = document.querySelector(".sidebar");
        if (sidebar && !document.getElementById("userBox")) {
          const userBox = document.createElement("div");
          userBox.id = "userBox";
          userBox.style.marginTop = "30px";
          userBox.style.padding = "10px";
          userBox.style.textAlign = "center";
          userBox.style.borderTop = "1px solid #ccc";
          const avatar = document.createElement("img");
          avatar.src = localStorage.getItem("userAvatar") || "https://api.dicebear.com/7.x/avataaars/svg?seed=yume";
          avatar.alt = "Avatar";
          avatar.style.width = "60px";
          avatar.style.height = "60px";
          avatar.style.borderRadius = "50%";
          avatar.style.objectFit = "cover";
          avatar.style.border = "2px solid #C9A86A";
          avatar.style.marginBottom = "8px";
          const logoutBtn = document.createElement("button");
          logoutBtn.textContent = "Logout";
          logoutBtn.style.marginTop = "6px";
          logoutBtn.style.background = "#8B2C2B";
          logoutBtn.style.color = "#fff";
          logoutBtn.style.border = "none";
          logoutBtn.style.padding = "6px 12px";
          logoutBtn.style.borderRadius = "20px";
          logoutBtn.style.cursor = "pointer";
          logoutBtn.onclick = () => {
            sessionStorage.removeItem("profiloUtente");
            localStorage.removeItem("userAvatar");
            window.location.href = "index.html";
          };
          userBox.appendChild(avatar);
          userBox.appendChild(logoutBtn);
          sidebar.appendChild(userBox);
        }
      }
    });
  </script>

<script>
  // Animazione barra percentuale (focus-item)
  document.addEventListener("DOMContentLoaded", function () {
    const barObserver = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const bars = entry.target.querySelectorAll(".bar-fill");
          bars.forEach(bar => {
            const width = bar.getAttribute("data-fill");
            if (width) bar.style.width = width;
          });
          barObserver.unobserve(entry.target);
        }
      });
    }, { threshold: 0.3 });

    document.querySelectorAll(".focus-item").forEach(item => {
      const bar = item.querySelector(".bar-fill");
      if (bar) {
        const widthMatch = bar.getAttribute("style")?.match(/width:\s*(\d+%)/);
        if (widthMatch) {
          bar.setAttribute("data-fill", widthMatch[1]);
          bar.style.width = "0";
        }
        barObserver.observe(item);
      }
    });
  });
</script>

<script>
  // Toggle per sezione itinerario
  document.addEventListener("DOMContentLoaded", function () {
    document.querySelectorAll('.giorno-toggle').forEach(btn => {
      btn.addEventListener('click', () => {
        btn.parentElement.classList.toggle('active');
      });
    });
  });
</script>

<script>
  // Scroll slider orizzontale
  function scrollFotoSlider(direction) {
    const container = document.getElementById("fotoSlider");
    const scrollAmount = 280;
    if (container) {
      container.scrollBy({
        left: direction * scrollAmount,
        behavior: 'smooth'
      });
    }
  }
</script>

<script>
  // Entrata dinamica per titolo slider e immagini
  document.addEventListener("DOMContentLoaded", function () {
    const dynamicObserver = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
          dynamicObserver.unobserve(entry.target);
        }
      });
    }, { threshold: 0.1 });

    document.querySelectorAll('.foto-box img, .foto-slider-title').forEach(el => {
      dynamicObserver.observe(el);
    });
  });
</script>

<script>
  const immagini = [
    "hajimete/1.jpg",
    "hajimete/2.jpg",
    "hajimete/3.jpg",
    "hajimete/4.jpg",
    "hajimete/5.jpg",
    "hajimete/6.jpg",
    "hajimete/7.jpg",
    "hajimete/8.jpg",
    "hajimete/9.jpg"
  ];

  let indexAttuale = 0;
  let startX = 0;

  function apriFotoFullscreen(index) {
    indexAttuale = index;

    const overlay = document.createElement('div');
    overlay.classList.add('fullscreen-overlay');

    const img = document.createElement('img');
    img.src = immagini[index];
    img.alt = "Foto " + (index + 1);
    img.classList.add("fullscreen-img");

    const btnChiudi = document.createElement('span');
    btnChiudi.innerHTML = "&times;";
    btnChiudi.classList.add("btn-close");
    btnChiudi.onclick = () => document.body.removeChild(overlay);

    const frecciaSx = document.createElement('button');
    frecciaSx.classList.add('fullscreen-arrow', 'left');
    frecciaSx.innerHTML = '<i class="fa fa-chevron-left"></i>';
    frecciaSx.onclick = (e) => {
      e.stopPropagation();
      cambiaFoto(-1);
    };

    const frecciaDx = document.createElement('button');
    frecciaDx.classList.add('fullscreen-arrow', 'right');
    frecciaDx.innerHTML = '<i class="fa fa-chevron-right"></i>';
    frecciaDx.onclick = (e) => {
      e.stopPropagation();
      cambiaFoto(1);
    };

    // Touch events per swipe mobile
    overlay.addEventListener('touchstart', (e) => {
      startX = e.touches[0].clientX;
    });

    overlay.addEventListener('touchend', (e) => {
      const endX = e.changedTouches[0].clientX;
      const diff = startX - endX;
      if (Math.abs(diff) > 50) {
        if (diff > 0) {
          cambiaFoto(1); // swipe sinistra → avanti
        } else {
          cambiaFoto(-1); // swipe destra → indietro
        }
      }
    });

    overlay.appendChild(btnChiudi);
    overlay.appendChild(frecciaSx);
    overlay.appendChild(img);
    overlay.appendChild(frecciaDx);
    document.body.appendChild(overlay);
  }

  function cambiaFoto(direz) {
    indexAttuale = (indexAttuale + direz + immagini.length) % immagini.length;
    const img = document.querySelector(".fullscreen-img");
    img.src = immagini[indexAttuale];
    img.alt = "Foto " + (indexAttuale + 1);
  }
</script>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    // === MARKER PERSONALIZZATO ===
    const customMarker = L.icon({
      iconUrl: 'hajimete/marker-yume.png',
      iconSize: [32, 42],
      iconAnchor: [16, 42],
      popupAnchor: [0, -36]
    });

    // === MAPPA 1: Panoramica del viaggio ===
    const map1 = L.map('map-overview').setView([35.6812, 139.7671], 5);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '© OpenStreetMap contributors'
    }).addTo(map1);

    const tappe = [
      { nome: "Tokyo", lat: 35.682839, lon: 139.759455 },
      { nome: "Kawaguchiko", lat: 35.4946, lon: 138.6886 },
      { nome: "Kyoto", lat: 35.0116, lon: 135.7681 },
      { nome: "Osaka", lat: 34.6937, lon: 135.5023 },
      { nome: "Nara", lat: 34.6851, lon: 135.8048 },
      { nome: "Hiroshima", lat: 34.3853, lon: 132.4553 },
      { nome: "Kamakura", lat: 35.3191, lon: 139.5466 },
      { nome: "Yokohama", lat: 35.4437, lon: 139.6380 },
      { nome: "Nikko", lat: 36.7484, lon: 139.5980 }
    ];

    tappe.forEach(t => {
      L.marker([t.lat, t.lon], { icon: customMarker })
        .addTo(map1)
        .bindPopup(`<strong>${t.nome}</strong>`);
    });

    L.polyline(tappe.map(t => [t.lat, t.lon]), {
      color: '#C9A86A',
      weight: 4,
      opacity: 0.8
    }).addTo(map1);


    // === MAPPA 2: Itinerario tipo (12 notti) ===
    const map2 = L.map('map-itinerario').setView([35.6, 139.8], 6);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '© OpenStreetMap contributors'
    }).addTo(map2);

    const tappe12notti = [
      ["Tokyo (Asakusa, Shibuya, Ueno)", 35.682839, 139.759455],
      ["Kamakura", 35.3191, 139.5466],
      ["Yokohama", 35.4437, 139.6380],
      ["Kawaguchiko", 35.4946, 138.6886],
      ["Osaka", 34.6937, 135.5023],
      ["Kyoto", 35.0116, 135.7681],
      ["Uji", 34.8894, 135.7996],
      ["Nara", 34.6851, 135.8048]
    ];

    tappe12notti.forEach(([nome, lat, lon]) => {
      L.marker([lat, lon], { icon: customMarker })
        .addTo(map2)
        .bindPopup(`<strong>${nome}</strong>`);
    });

    L.polyline(tappe12notti.map(t => [t[1], t[2]]), {
      color: '#8B2C2B',
      weight: 4,
      opacity: 0.8
    }).addTo(map2);
  });
</script>

</body>
</html>

